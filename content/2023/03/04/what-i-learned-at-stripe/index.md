---
title: "我在 Stripe 学到了什么?"
date: 2023-03-04T11:39:57+08:00
updated: 2023-03-04T11:39:57+08:00
taxonomies:
  tags: []
extra:
  source: https://steinkamp.us/post/2022/11/10/what-i-learned-at-stripe.html
  hostname: steinkamp.us
  author: 
  original_title: "What I Learned At Stripe"
  original_lang: en
---

In February 2022, I left my job at Splunk to take some time first to relax then to [focus on finding a fantastic next job](https://steinkamp.us/post/2022/02/06/what-comes-next.html). I managed to do both during my three months of funemployment, landing a job at Stripe in the [Atlas](https://stripe.com/atlas) team in May. I was [laid off](https://techcrunch.com/2022/11/03/stripe-cuts-14-of-its-workforce-ceo-says-they-overhired-for-the-world-were-in/) in November 2022, along with most people who were hired during this time.  

2022 年 2 月，我离开了 Splunk 的工作，先花点时间放松一下，然后专注于寻找一份出色的下一份工作。在我三个月的有趣工作中，我设法做到了这两点，五月份在 Atlas 团队的 Stripe 找到了一份工作。 2022 年 11 月，我和这段时间被雇用的大多数人一起被解雇了。

Despite it being a very short stint in my career, what I learned at Stripe was nothing like I had experienced in more than 20 years in the industry.  

尽管这在我的职业生涯中很短暂，但我在 Stripe 学到的东西与我在该行业 20 多年的经历完全不同。  

The intent of this post is to capture those learnings, both to organize and solidify them in my own mind and to spread these ideas to more people, since they really worked to build an exceptionally high-functioning environment.  

这篇文章的目的是捕捉这些经验教训，在我自己的脑海中组织和巩固它们，并将这些想法传播给更多的人，因为它们确实致力于构建一个异常高效的环境。

So here we go with the big things that I think made my team at Stripe run better in certain ways than any team I’ve been a part of:  

因此，在这里，我们将讨论我认为使我在 Stripe 的团队在某些方面比我曾参与过的任何团队都运行得更好的重要事情：

## Gratitude built-in  

感谢内置

Stripe installed or built an extension to Slack where if a person types `/++ @teammate Some nice words` in a public Slack channel, the mentioned teammate and their manager receive a notification of those nice words. This is also stored in a central system and shows up on the employee’s company profile page, and is also available to managers during annual performance reviews.  

Stripe 安装或构建了 Slack 的扩展，如果有人在公共 Slack 频道中输入 `/++ @teammate Some nice words` ，提到的队友和他们的经理会收到这些好词的通知。这也存储在中央系统中并显示在员工的公司资料页面上，并且在年度绩效评估期间也可供经理使用。  

This is a great low-friction way of promoting a positive, grateful culture in the company.  

这是在公司中促进积极、感恩的文化的一种极好的低摩擦方式。

The Atlas team also reinforces this in their Friday wrap-up meetings in a segment called “Mad Props”. The /++ feedback is collected by the meeting DRI (see below) into a meeting doc, and others from the team can add their own kudos and mad props to that section.  

Atlas 团队还在他们周五的总结会议中的一个名为“Mad Props”的部分中强调了这一点。 /++ 反馈由会议 DRI（见下文）收集到会议文档中，团队中的其他人可以向该部分添加他们自己的荣誉和疯狂的支持。  

The person doing the thanking reads or mentions their items for the team to hear in the meeting.  

进行感谢的人阅读或提及他们的项目以供团队在会议中听到。

This practice normalizes gratitude in the team, and sets a mild expectation for recognizing the people who helped you that week. It builds community, camaraderie, and warm feelings in the team, which contributes to a high-functioning team.  

这种做法使团队中的感激之情正常化，并为认可那一周帮助过你的人设定了温和的期望。它在团队中建立社区、友情和温暖的感情，这有助于打造一支高效的团队。

![](Ty_Logo.svg) One thing I was surprised to see on my first day at Stripe was the default “thank you” emoji in Slack is the Ty Beanie Baby heart. I was initially afraid to use it (sending hearts to coworkers?!?!?!), but in time I learned to see it as a tool for elevating the good vibes.  

我在 Stripe 的第一天看到的一件事让我感到惊讶，那就是 Slack 中默认的“谢谢”表情符号是 Ty Beanie Baby 心形。我最初害怕使用它（向同事送红心？！？！？！），但后来我学会了将它视为提升良好氛围的工具。  

Once I got over the initial shyness around using it, I felt more liberated to share my gratitude in this very strong way.  

一旦我克服了最初使用它时的害羞，我就会更加自由地以这种非常强烈的方式分享我的感激之情。

## The DRI  

直接还原铁

Each task and project in the team has a single person who is responsible for that thing in that moment - the Directly Responsible Individual, or DRI. The DRI for something may shift as time passes, and this fact is communicated clearly to the team and stakeholders when it happens.  

团队中的每个任务和项目都有一个人负责当时的事情——直接负责人，或 DRI。随着时间的流逝，某些事物的 DRI 可能会发生变化，并且这一事实会在发生时清楚地传达给团队和利益相关者。  

This helps to avoid the tragedy of the commons where shared ownership results in no ownership. It also builds on a culture of top-to-bottom responsibility, which builds more capable team members and gives higher quality output.  

这有助于避免共享所有权导致没有所有权的公地悲剧。它还建立在自上而下的责任文化之上，这种文化培养了更有能力的团队成员，并提供了更高质量的产出。  

A common question asked in team meetings when a great idea is presented is “who wants to DRI that idea?” This way, fewer great ideas fall between the cracks of responsibility between people.  

当提出一个好主意时，在团队会议上提出的一个常见问题是“谁想要 DRI 这个想法？”这样一来，就会有更少的伟大创意落入人与人之间责任的缝隙之中。

## Hiring for growth, diversity, and EQ  

为增长、多元化和情商而招聘

So many companies hire solely on technical aptitude, then design the role of the engineer as an implementer of others’ ideas. Stripe (and specifically the Atlas team) biases hiring much more strongly on aspirations, track record, taste, and potential.  

如此多的公司完全根据技术能力招聘，然后将工程师的角色设计为他人想法的实施者。 Stripe（尤其是 Atlas 团队）在招聘时更偏向于抱负、业绩记录、品位和潜力。  

Of course, the technical bar is still very high, but it’s not the only bar.  

当然，技术门槛还是很高的，但不是唯一的门槛。

The team is filled with enthusiastic, energetic, fantastic communicators who are motivated to deliver ideal user experiences.  

该团队充满热情、精力充沛、出色的沟通者，他们积极提供理想的用户体验。  

In the right environment, people with these skills are able to produce a better product and build a better team culture than a dull, code-focused, command-and-control kind of environment.  

在合适的环境中，拥有这些技能的人能够生产出更好的产品，并建立更好的团队文化，而不是沉闷、专注于代码、命令和控制的环境。

## Learning in public  

公开学习

First, some context: The Atlas team works differently than any other team I’ve ever worked in. The engineers in the team take on a lot of the duties that would normally be filled by product managers.  

首先，一些背景：Atlas 团队的工作方式与我曾经工作过的任何其他团队都不同。团队中的工程师承担了很多通常由产品经理担任的职责。  

The team has product managers, but they are more strategically focused and help to support the engineer DRIs as product ideas are developed and shipped.  

该团队有产品经理，但他们更注重战略，并在开发和交付产品创意时帮助支持工程师 DRI。

Because engineers are shepherding conversations with product management, design, legal, or other teams to shape the implementation of a product idea, it’s helpful to write down questions or decisions as they come up, then invite others from the team to review and comment.  

因为工程师正在引导与产品管理、设计、法律或其他团队的对话来塑造产品创意的实施，所以当问题或决定出现时写下来，然后邀请团队中的其他人进行审查和评论是很有帮助的。  

This is usually done in a “Project Brief” document, which follows a common template of problem, context, solution, task checklist, and metrics.  

这通常在“项目简介”文档中完成，该文档遵循问题、上下文、解决方案、任务清单和指标的通用模板。

This builds awareness through the team of what is happening, and provides teammates from all disciplines to share their thoughts, questions, doubts, or ideas with the engineer DRI, all with the net result of shipping a better product to our end-users.  

这通过团队建立了对正在发生的事情的认识，并让来自所有学科的团队成员与工程师 DRI 分享他们的想法、问题、疑虑或想法，所有这些的最终结果是向我们的最终用户提供更好的产品。

The team also embraces mentorship, pairing, and teaching opportunities at every turn.  

该团队还随时提供指导、结对和教学机会。  

Weekly team meetings regularly have teaching/learning segments, Slack Huddles are used for quick pairing sessions, and the team regularly “mobs” documents to help shape ideas or wordsmith messages in real time.  

每周团队会议定期有教学/学习部分，Slack Huddles 用于快速配对会议，团队定期“暴民”文件以帮助实时形成想法或文字信息。

## Shipped emails  

已发送电子邮件

A project in the Atlas team was considered done when a Shipped email was sent.  

发送 Shipped 电子邮件时，Atlas 团队中的一个项目被视为完成。  

This message, sent either to a team-specific group or a company-wide group (depending on impact) summarizes the problem and context around the problem, describes the solution approach (usually with screenshots or screen recordings), and quantifies the impact with metrics.  

此消息发送给特定团队或公司范围内的组（取决于影响）总结了问题和问题的背景，描述了解决方法（通常带有屏幕截图或屏幕录像），并使用指标量化影响.  

It usually ends with a “we haven’t won yet…” section where future phases or strategies may be laid out.  

它通常以“我们还没有赢……”部分结尾，其中可能会列出未来的阶段或策略。

It’s not uncommon for a project to _begin_ with writing (but not sending!) the Shipped email, serving as a north star for understanding the scope and goals of a project.  

项目从编写（但不是发送！）Shipped 电子邮件开始的情况并不少见，作为理解项目范围和目标的北极星。

Shipped emails are echoed automatically to a Slack channel, and there is invariably a great react-ji storm underneath, along with a discussion or kudos thread.  

发送的电子邮件会自动回显到 Slack 频道，并且下面总是有一个巨大的 react-ji 风暴，以及讨论或荣誉线程。

## Dates have a % confidence  

日期有 % 置信度

I’m generally [not a fan](https://steinkamp.us/post/2019/08/24/on-dates.html) of assigning due dates to development tasks, since so much of a project is unknown when we start it. We probably have a rough idea of magnitude, but so often project managers push for specific dates, which sets the team up for failure.  

我通常不喜欢为开发任务指定截止日期，因为项目的大部分内容在我们开始时都是未知的。我们可能对规模有一个粗略的概念，但项目经理经常要求具体日期，这让团队注定要失败。  

The Atlas team does track date estimations, but those dates are always accompanied with a confidence level in that date.  

Atlas 团队确实跟踪日期估计，但这些日期总是伴随着该日期的置信度。  

It is understood and embraced that these numbers will change over time, and changes are always communicated clearly in writing, and sometimes discussed in weekly “Ships Review” meetings.  

可以理解并接受的是，这些数字会随着时间的推移而变化，变化总是以书面形式清楚地传达，有时在每周的“船舶审查”会议上进行讨论。

At a higher level, this is a good example of embracing the reality of the world when doing project management. So many companies get this wrong, and suffer as a result.  

在更高的层次上，这是在做项目管理时拥抱世界现实的一个很好的例子。许多公司都犯了这个错误，并因此遭受损失。

## Direct user feedback  

直接用户反馈

The practice of soliciting direct feedback from end-users percolates all the way through Stripe, into every corner.  

从最终用户那里征求直接反馈的做法一直渗透到 Stripe 的每个角落。

The most obvious example is in the weekly all-hands meetings, led by the company founders. In this one-hour meeting, there is always a 20 minute section where an actual Stripe customer is invited to talk about their experiences with Stripe, with the entire company listening.  

最明显的例子是由公司创始人主持的每周全体会议。在这个一小时的会议中，总会有一个 20 分钟的部分，邀请一位真正的 Stripe 客户谈论他们使用 Stripe 的经历，整个公司都会倾听。  

This really sets a precedent for teams to follow.  

这确实为团队树立了先例。

The Atlas team would regularly hold open customer calls, with members of all disciplines in the team encouraged to attend and participate.  

Atlas 团队会定期举行公开的客户电话会议，鼓励团队中所有学科的成员出席和参与。  

Hearing the actual words of the customer, seeing their expressions, hearing their emotions helps to really hit home the impact the team is having.  

听到客户的真实话语，看到他们的表情，听到他们的情绪有助于真正了解团队正在产生的影响。

We would also funnel in-app customer feedback directly and immediately to a Slack channel, along with a Twitter search bot that would post to the same channel if anyone tweeted about our product.  

我们还会将应用程序内的客户反馈直接并立即汇集到 Slack 频道，以及一个 Twitter 搜索机器人，如果有人发布关于我们产品的推文，它会发布到同一频道。  

New account sign-ups also are sent in real time to a Slack channel, including business name and description. This energizes the team, knowing they are working on a live product with an amazing breadth of customers.  

新帐户注册也会实时发送到 Slack 频道，包括公司名称和描述。这让团队充满活力，因为他们知道他们正在开发一款拥有大量客户的实时产品。

## Keep it positive, keep it public  

保持积极，公开

The team culture in Atlas was always positive and light-hearted, but never insensitive or snarky. Hiring people who know how to communicate challenges in a positive way helps to reinforce this.  

Atlas 的团队文化总是积极向上、轻松愉快，但从不麻木不仁或尖刻刻薄。雇用知道如何以积极方式沟通挑战的人有助于加强这一点。  

Keeping team channels public helps to keep everyone on the straight and narrow in avoiding badmouthing other people or teams in the company. Shit-talking was culturally unacceptable in the team.  

保持团队频道公开有助于让每个人都保持正直和狭隘，避免公司中其他人或团队的坏话。在团队中，说屁话在文化上是不可接受的。  

If a private DM conversation started to go in that direction, someone would speak up to take the conversation to a public channel, and things returned to a more constructive tone.  

如果私人 DM 对话开始朝着那个方向发展，就会有人大声疾呼，将对话转移到公共频道，然后事情就会恢复到更具建设性的基调。

## Friction logs  

摩擦日志

When I started in the team, my first task was to “friction log” Stripe Atlas.  

刚入队时，我的第一个任务就是“摩擦记录”Stripe Atlas。  

This means I was to select an end-user persona (bonus points from the team for something cute or funny), and go through the Atlas product flow as that user, taking very detailed notes along the way of anything that was not perfect.  

这意味着我要选择一个最终用户角色（团队对一些可爱或有趣的事物的加分），并以该用户的身份浏览 Atlas 产品流程，并在任何不完美的地方做非常详细的记录。

The team absolutely devours this information, since everyone is very aware of the tendency of developers who are very close to a product to start to become blind to its frictions.  

团队绝对吞噬了这些信息，因为每个人都非常清楚与产品非常接近的开发人员开始对其摩擦视而不见的趋势。  

Our job as a team is to deliver the most friction-free experience to our users, and this practice helps to support that.  

我们作为一个团队的工作是为我们的用户提供最顺畅的体验，而这种做法有助于支持这一点。

Friction logging is a Stripe-wide practice, so people from our team would regularly friction log offerings or dependencies from other teams, since we are their end-users. This feedback was always welcome and frequently resulted in improvements delivered in short order.  

摩擦日志记录是 Stripe 范围内的一种做法，因此我们团队的人会定期摩擦日志产品或其他团队的依赖项，因为我们是他们的最终用户。这种反馈总是受欢迎的，并且经常导致在短期内交付改进。

## More open data warehouse  

更开放的数据仓库

Every company I worked at prior to Stripe built huge walls around their data warehouse.  

在 Stripe 之前，我工作过的每家公司都在他们的数据仓库周围建造了巨大的围墙。  

This resulted in a severely limited flow of information through the organization, forcing teams to use their intuition more than data analysis, since the data team would always have a miles-long backlog of requests to fulfill.  

这导致通过组织的信息流严重受限，迫使团队更多地使用他们的直觉而不是数据分析，因为数据团队总是有数英里长的积压请求需要完成。

Stripe is the fist place I’ve worked where the data warehouse is open to everyone to query and extract information that is relevant to their job.  

Stripe 是我工作过的第一个地方，它的数据仓库向所有人开放，可以查询和提取与其工作相关的信息。  

Of course, there are still strict access controls and auditing around company data, but access to relevant datasets are granted by default to team members.  

当然，公司数据仍然有严格的访问控制和审计，但默认授予团队成员访问相关数据集的权限。

It’s quite common for batch or cron jobs to execute a warehouse query to extract their working set of data. This completes a feedback loop of data ingestion and processing that only benefits the end-user.  

批处理或 cron 作业执行仓库查询以提取其工作数据集是很常见的。这完成了数据摄取和处理的反馈循环，这只会使最终用户受益。

There are fantastic interactive query building and sharing tools, as well as well-understood SDKs for developers to integrate into asynchronous tasks, and a featureful charting tool for teams to build dashboards to their heart’s content.  

有很棒的交互式查询构建和共享工具，以及供开发人员集成到异步任务中的易于理解的 SDK，以及供团队根据自己的意愿构建仪表板的功能强大的图表工具。

By removing the moat from around the warehouse, the power of information can be used in multitudes more instances and situations. Companies that lock down their warehouse are absolutely shooting themselves in the foot.  

通过移除仓库周围的护城河，信息的力量可以在更多的实例和情况下使用。封锁仓库的公司绝对是搬起石头砸自己的脚。

## Monorepos work, to a point  

Monorepos 工作，在某种程度上

Stripe, for the most part, is built in a monorepo. Thousands of engineers work on a single repo, which houses backend and frontend code.  

在大多数情况下，Stripe 是建立在单一存储库中的。数以千计的工程师在一个包含后端和前端代码的存储库上工作。  

The backend code serves the Stripe API, runs batch jobs, cron jobs, the admin interface, and interactive data manipulation tasks in dozens of services running slices of the same codebase.  

后端代码为 Stripe API 提供服务，运行批处理作业、cron 作业、管理界面，以及在数十个服务中运行相同代码库的交互式数据操作任务。  

The frontend code exists in a few layers, with the company-standard UX building blocks alongside specific product implementations.  

前端代码存在于几层中，具有公司标准的 UX 构建块以及特定的产品实现。

The advantage of such a system is that presenting a cohesive interface - whether it’s the look and feel of the Stripe UI or how data is modeled in backend systems - is the nature of the beast. A consistent interface is a big contributor to the sense of quality.  

这样一个系统的优势在于呈现一个有凝聚力的界面——无论是 Stripe UI 的外观和感觉，还是数据在后端系统中的建模方式——是野兽的本性。一致的界面是质量感的重要贡献者。  

Security controls can easily be applied globally, versus visiting 100 different teams with 500 different repos written in 10 different major or homegrown frameworks.  

安全控制可以很容易地在全球范围内应用，而不是访问 100 个不同的团队，使用 10 个不同的主要或本土框架编写的 500 个不同的存储库。

The downside is that this is an exceptionally active repo. Hundreds of pull requests are merged each day, so any branch that you’re working on for more than a couple of days faces a large risk of merge conflicts or worse.  

缺点是这是一个异常活跃的回购协议。每天有数百个拉取请求被合并，因此您处理超过几天的任何分支都面临合并冲突或更糟的巨大风险。  

If there is an issue with a single deploy, it stops the company from shipping changes to the affected service.  

如果单个部署出现问题，它会阻止公司将更改发送到受影响的服务。

I think I joined Stripe toward the end of the useful life of its monorepo, and there was a project well underway to pull some core product / business functions into specific repos that could be insulated from the chaos of the monorepo (and vice-versa!).  

我想我在 Stripe 的 monorepo 使用寿命即将结束时加入了 Stripe，并且有一个项目正在进行中，将一些核心产品/业务功能拉入特定的 repos 中，这些 repos 可以避免 monorepo 的混乱（反之亦然！ ).

## Actual CICD can work  

实际的 CICD 可以工作

When pull requests are merged to the main code branch, that triggers a test and deploy run. Of course, this practice requires good automated test coverage.  

当拉取请求合并到主代码分支时，会触发测试和部署运行。当然，这种做法需要良好的自动化测试覆盖率。  

It’s pretty clear that the efficiencies gained from automated deploys outweigh the cost of writing more tests or employing dedicated QA people.  

很明显，从自动化部署中获得的效率超过了编写更多测试或雇用专门的 QA 人员的成本。

Stripe is literally continuously deploying code to production. As soon as one deploy finishes, the next build begins - usually with dozens of merged pull requests that were waiting to go. Only whale customer mandated seasonal freezes slow down the pace of deployment.  

Stripe 实际上是在不断地将代码部署到生产环境中。一旦一个部署完成，下一个构建就开始了——通常有几十个等待进行的合并拉取请求。只有鲸鱼客户要求的季节性冻结会减慢部署速度。

One big CICD risk-mitigating tool in Stripe’s toolkit is a very well engineered feature flag system. This allows the team to deploy entirely new features or product flows, but to only expose that new code to specific test accounts.  

Stripe 工具包中一个重要的 CICD 风险缓解工具是一个设计精良的功能标志系统。这允许团队部署全新的功能或产品流程，但只将新代码公开给特定的测试帐户。  

The downside is that there is more complexity in running old and new code paths, but it is offset by a clear confidence in the operation of the new code in the production environment.  

缺点是运行新旧代码路径的复杂性更高，但它被对新代码在生产环境中运行的明确信心所抵消。

Actual CICD also encourages iterative development, since the overhead of shipping an incremental change is very low. This also promotes higher quality work, since the developers can more efficiently take smaller steps on their way to delivering a new feature.  

实际的 CICD 还鼓励迭代开发，因为交付增量更改的开销非常低。这也促进了更高质量的工作，因为开发人员可以更有效地在交付新功能的过程中采取更小的步骤。

## Remote development can work  

远程开发可以工作

Cloud hosts, provisioned on-demand with a branch checked out and ready to go were the main vessels of development.  

云主机，按需配置，分支机构已签出并准备就绪，是主要的开发工具。  

This is a boon for productivity maximization, since if you were blocked on someone on a project you were working on, you could switch instantly to a different project, already running and ready to go on a second remote devbox.  

这是生产力最大化的福音，因为如果你在你正在处理的项目中被某人阻止，你可以立即切换到另一个已经运行并准备好在第二个远程 devbox 上运行的项目。

Stripe’s developer tools were absolutely next-level – with tight integration between VSCode, Sorbet (the company’s type safety layer for Ruby), Typescript, mountains of auto-generated files (e.g. .`proto` files for protocol buffers), and the dozens of services up and running on the devbox, viewable and controllable from within VSCode. Stripe’s investment in dev tooling made for a very homogenous codebase, since idioms were super strictly enforced by the auto-generation layers.  

Stripe 的开发人员工具绝对是下一个级别——在 VSCode、Sorbet（该公司的 Ruby 类型安全层）、Typescript、大量自动生成的文件（例如协议缓冲区的 `proto` 文件）以及数十个服务在 devbox 上启动并运行，可从 VSCode 中查看和控制。 Stripe 对开发工具的投资造就了一个非常同质的代码库，因为习语是由自动生成层超级严格执行的。

___

_Stripe colleagues, what did I miss? Email me :) zack@steinkamp.us  

条纹同事，我错过了什么？给我发电子邮件 :) zack@steinkamp.us_
